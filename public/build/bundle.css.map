{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Listing.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { onMount } from \"svelte\";\n\n  import \"bulma/css/bulma.css\";\n  import Listing from \"./Listing.svelte\";\n  let listings = [];\n  let deleted = new Set();\n  let saved = new Set();\n  let showDeleted = false;\n  let showSaved = false;\n  let showOthers = true;\n  let searchText = \"\";\n\n  function addListing(item) {\n    const listing = {\n      id: item.id,\n      kids: item.kids,\n      text: item.text,\n      time: item.time\n    };\n    if (!listing.text) {\n      console.log(\n        `Failed to get https://news.ycombinator.com/item?id=${item.id}`\n      );\n      console.log(item);\n    } else {\n      listings.push(listing);\n      listings = listings;\n    }\n  }\n\n  onMount(async () => {\n    if (window.localStorage.saved)\n      saved = new Set(JSON.parse(window.localStorage.saved));\n    if (window.localStorage.deleted)\n      deleted = new Set(\n        JSON.parse(window.localStorage.deleted).filter(id => !saved.has(id))\n      );\n    fetch(\"https://hacker-news.firebaseio.com/v0/item/23379196.json\")\n      .then(r => r.json())\n      .then(item => item.kids)\n      .then(kids => {\n        kids.sort((a, b) => b - a);\n        Promise.all(\n          kids.map(kid =>\n            fetch(`https://hacker-news.firebaseio.com/v0/item/${kid}.json`)\n              .then(r => r.json())\n              .then(json => {\n                addListing(json);\n              })\n          )\n        );\n      });\n  });\n\n  $: lowerSearchText = searchText.toLowerCase();\n\n  $: filteredListings = listings.filter(\n    l =>\n      l.text.toLowerCase().includes(lowerSearchText) &&\n      ((deleted.has(l.id) && showDeleted) ||\n        (saved.has(l.id) && showSaved) ||\n        (!(deleted.has(l.id) || saved.has(l.id)) && showOthers))\n  );\n</script>\n\n<style>\n  main {\n    text-align: center;\n    padding: 1em;\n    margin: 0 auto;\n  }\n</style>\n\n<main>\n  <div class=\"field has-addons has-addons-centered\">\n    <input type=\"text\" bind:value={searchText} />\n    <div class=\"buttons has-addons\">\n      <button\n        class=\"button is-light\"\n        class:is-inverted={showOthers}\n        on:click={() => (showOthers = !showOthers)}>\n        Others {listings.length - deleted.size - saved.size}\n      </button>\n      <button\n        class=\"button is-light\"\n        class:is-inverted={showDeleted}\n        on:click={() => (showDeleted = !showDeleted)}>\n        Deleted {deleted.size}\n      </button>\n      <button\n        class=\"button is-light\"\n        class:is-inverted={showSaved}\n        on:click={() => (showSaved = !showSaved)}>\n        Saved {saved.size}\n      </button>\n    </div>\n  </div>\n  {#each filteredListings as listing (listing.id)}\n    <Listing\n      title={listing.text.split('<p>', 1)[0]}\n      content={listing.text}\n      on:delete={() => {\n        deleted.add(listing.id);\n        saved.delete(listing.id);\n        saved = saved;\n        deleted = deleted;\n        window.localStorage.deleted = JSON.stringify(Array.from(deleted));\n      }}\n      on:save={() => {\n        saved.add(listing.id);\n        deleted.delete(listing.id);\n        saved = saved;\n        deleted = deleted;\n        window.localStorage.saved = JSON.stringify(Array.from(saved));\n      }} />\n  {/each}\n</main>\n",
    "<script>\n  import { slide } from \"svelte/transition\";\n\n  export let title = \"title\";\n  export let content = \"content\";\n  import { createEventDispatcher } from \"svelte\";\n  const dispatch = createEventDispatcher();\n  let expanded = false;\n</script>\n\n<style>\n  .box {\n    max-width: 900px;\n    margin: auto;\n  }\n\n  .columns {\n    margin-bottom: -0.75rem !important;\n  }\n  .description {\n    text-align: left;\n    padding-top: 1em;\n    padding-left: 1em;\n    padding-right: 0.75em;\n  }\n  .button {\n    width: 100%;\n  }\n</style>\n\n<div class=\"box\">\n  <div class=\"columns\">\n    <div class=\"column is-narrow\">\n      <button class=\"button is-large\" on:click={() => dispatch('delete')}>\n        Ignore\n      </button>\n    </div>\n    <div class=\"column\" on:click={() => (expanded = !expanded)}>\n      <p class=\"title is-4\">\n        {@html title}\n      </p>\n    </div>\n    <div class=\"column is-narrow\">\n      <button class=\"button is-large\" on:click={() => dispatch('save')}>\n        Save\n      </button>\n    </div>\n  </div>\n  {#if expanded}\n    <p class=\"description\" transition:slide|local>\n      {@html content}\n    </p>\n  {/if}\n</div>\n"
  ],
  "names": [],
  "mappings": "AAmEE,IAAI,eAAC,CAAC,AACJ,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,CAAC,CAAC,IAAI,AAChB,CAAC;AC5DD,IAAI,eAAC,CAAC,AACJ,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,IAAI,AACd,CAAC,AAED,QAAQ,eAAC,CAAC,AACR,aAAa,CAAE,QAAQ,CAAC,UAAU,AACpC,CAAC,AACD,YAAY,eAAC,CAAC,AACZ,UAAU,CAAE,IAAI,CAChB,WAAW,CAAE,GAAG,CAChB,YAAY,CAAE,GAAG,CACjB,aAAa,CAAE,MAAM,AACvB,CAAC,AACD,OAAO,eAAC,CAAC,AACP,KAAK,CAAE,IAAI,AACb,CAAC"
}